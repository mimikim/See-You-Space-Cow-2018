"use strict";var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}new(function(){function t(){var e=this;_classCallCheck(this,t),this.route=wp_portfolio.url+"/wp-json/spacecow/v1/portfolio/",this.active_buttons=[],this.container_div=document.getElementById("js-portfolio-results"),document.querySelectorAll("#js-portfolio-filters .button").forEach(function(t){t.addEventListener("click",function(){e.container_div.innerHTML="",t.classList.toggle("active"),e.maybe_add_button(t),e.api_call(t,e.active_buttons)})})}return _createClass(t,[{key:"maybe_add_button",value:function(t){var e=parseInt(t.dataset.categoryId,10),n=this.active_buttons.indexOf(e);n>-1?this.active_buttons.splice(n,1):this.active_buttons.push(e)}},{key:"api_call",value:function(t,e){var n=this;new Promise(function(t,i){var a=new XMLHttpRequest,o=n.route;a.onload=function(){4===this.readyState&&200===this.status&&t(a.responseText)},e.length>0&&(o=o+"?type="+JSON.stringify(e)),a.open("GET",o,!0),a.send(null)}).then(function(t){var e="";JSON.parse(t).forEach(function(t){t.id;var n=t.title,i=t.image;e+='<div class="item fade-in" tabindex="0"><figure><img src="'+i+'" class="responsive"><figcaption>'+n+"</figcaption></figure></div>"}),n.container_div.innerHTML=e})}}]),t}());