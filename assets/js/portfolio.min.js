"use strict";var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}new(function(){function t(){var e=this;_classCallCheck(this,t),this.reset=function(){e.active_buttons.length>0&&(e.active_buttons=[],document.querySelectorAll("#js-portfolio-filters .button").forEach(function(t){t.classList.remove("active")}),e.api_call())},this.route=wp_portfolio.url+"/wp-json/spacecow/v1/portfolio/",this.active_buttons=[],this.container_div=document.getElementById("js-portfolio-results"),document.querySelectorAll("#js-portfolio-filters .button").forEach(function(t){t.addEventListener("click",function(){e.container_div.innerHTML="",t.classList.toggle("active"),e.maybe_add_button(t),e.api_call(e.active_buttons)})}),document.getElementById("js-reset").addEventListener("click",this.reset)}return _createClass(t,[{key:"maybe_add_button",value:function(t){var e=parseInt(t.dataset.categoryId,10),n=this.active_buttons.indexOf(e);n>-1?this.active_buttons.splice(n,1):this.active_buttons.push(e)}},{key:"api_call",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];new Promise(function(n,i){var o=new XMLHttpRequest,a=t.route;o.onload=function(){4===this.readyState&&200===this.status&&n(o.responseText)},e.length>0&&(a=a+"?type="+JSON.stringify(e)),o.open("GET",a,!0),o.send(null)}).then(function(e){var n="";JSON.parse(e).forEach(function(t){t.id;var e=t.title,i=t.image;n+='<div class="item fade-in" tabindex="0"><figure><img src="'+i+'" class="responsive"><figcaption>'+e+"</figcaption></figure></div>"}),t.container_div.innerHTML=n})}}]),t}());